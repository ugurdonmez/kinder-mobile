<ion-header>

  <ion-navbar>
    <ion-title>{{"School" | translate}}: {{(school | async)?.name}}</ion-title>
      <ion-buttons *ngIf="myUserRole=='developer' || myUserRole=='branch-admin'
        || myUserRole=='school-admin'" end>
          <button ion-button end (click)="openSchoolAdminEditSchoolPage(schoolId)">{{"Edit" | translate}}</button>
      </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content class="page-school-admin-classes">
    <ion-grid>
        <ion-card>
            <img class="image-on-top" src="{{logoURL}}"/>
            <ion-card-content>
                <ion-card-title>
                </ion-card-title>
            </ion-card-content>
        </ion-card>
        <ion-row>
            <ion-col width-25>{{"Building Address" | translate}}</ion-col>
            <ion-col>{{(school | async)?.buildingAddress}}</ion-col>
        </ion-row>
        <ion-row>
            <ion-col width-25>{{"Manager Name" | translate}}</ion-col>
            <ion-col>{{(school | async)?.managerName}}</ion-col>
        </ion-row>

        <ion-row>
            <ion-col width-25>{{"Manager Tel" | translate}}</ion-col>
            <ion-col>{{(school | async)?.managerTel}}</ion-col>
        </ion-row>
        <ion-row>
            <ion-col width-25>{{"Activation Email" | translate}}</ion-col>
            <ion-col>{{(school | async)?.activationEmail}}</ion-col>
        </ion-row>
        <ion-row>
            <ion-col width-25>{{"School Telephone" | translate}}</ion-col>
            <ion-col>{{(school | async)?.schoolTelephone}}</ion-col>
        </ion-row>
        <ion-row>
            <ion-col width-25>{{"Second Contact Person Name" | translate}}</ion-col>
            <ion-col>{{(school | async)?.secondContactPersonName}}</ion-col>
        </ion-row>
        <ion-row>
            <ion-col width-25>{{"Second Contact Person Tel" | translate}}</ion-col>
            <ion-col>{{(school | async)?.secondContactTelNo}}</ion-col>
        </ion-row>
        <ion-row>
            <ion-col width-25>{{"Activated Status" | translate}}</ion-col>
            <ion-col>{{(school | async)?.isActivated}}</ion-col>
        </ion-row>
    </ion-grid>


    <h1 *ngIf="myUserRole!=='teacher'" class="classes-title">{{"Classes" | translate}}</h1>
    <h1 *ngIf="myUserRole==='teacher'" class="classes-title">{{"Your Classes" | translate}}</h1>

    <ion-list>
        <button ion-item *ngFor="let _class of listedClasses | async" (click)="openClassPage(_class.$key)">
            <div>
                <!--ion-item-->
                <h2>{{_class.name}}</h2>
                <p>{{"Age" | translate}}: {{_class.age}}</p>
                <p>{{"Capacity" | translate}}: {{_class.current}}/{{_class.maximum}}</p>
            </div>

            <!--<div item-right>-->
                <!--<p>{{(getTeacher(_class?.teacher_id) | async).name}}</p>-->
                <!--&lt;!&ndash;<p>{{_class._classTelephone}}</p>&ndash;&gt;-->
            <!--</div>-->
        </button>
    </ion-list>

    <ion-icon *ngIf="myUserRole=='developer' || myUserRole=='branch-admin'
        || myUserRole=='school-admin'"
              class="school-add-circle-icon" ios="ios-add-circle" md="md-add-circle" (click)="openSchoolAdminClassAdd(schoolId)"></ion-icon>

    <h1 class="teachers-title">{{"Teachers" | translate}}</h1>

    <ion-list>
        <button ion-item *ngFor="let teacher of listedTeachers | async" (click)="openTeacherPage(teacher.$key)">
            <div item-left>
                <img class="teacher-thumbnail" src="{{teacher?.profileImageUrl}}"/>
            </div>
            <div>
                <p>{{teacher.name}}</p>
                <p>{{teacher.surname}}</p>
            </div>

            <div item-right>
                <p *ngFor="let _class of getClassesOfTeachers(teacher.$key)">{{_class?.name}}</p>
            </div>
        </button>
    </ion-list>

    <ion-icon *ngIf="myUserRole=='developer' || myUserRole=='branch-admin'
        || myUserRole=='school-admin'"
              class="teacher-add-circle-icon" ios="ios-add-circle" md="md-add-circle" (click)="openAddTeacher()"></ion-icon>

</ion-content>
